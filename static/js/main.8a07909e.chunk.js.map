{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/api/api.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["Searchbar","onSubmit","useState","inputName","setInputName","className","event","preventDefault","trim","Notiflix","Notify","warning","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","images","onSelect","map","id","webformatURL","largeImageURL","onClick","src","alt","uuidv4","Loader","props","width","height","label","in","stdDeviation","result","mode","values","in2","operator","filter","attributeName","attributeType","from","to","dur","repeatCount","cx","cy","r","radius","fill","color","begin","calcMode","keyTimes","keySplines","secondaryColor","defaultProps","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleCloseModal","handleOverlayClick","target","window","addEventListener","this","removeEventListener","createPortal","selectedImage","Component","Button","onLoading","newImages","handleLoadMore","getImagesAPI","page","axios","get","params","key","q","image_type","orientation","per_page","then","response","data","totalHits","hits","Promise","reject","Error","propTypes","PropTypes","number","isRequired","ImageGallery","state","error","status","handleSelectImage","imageUrl","setState","prevState","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevName","nextName","api","length","catch","smoothScroll","message","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a07909e.chunk.js","sourcesContent":["import './Searchbar.css';\nimport React, { useState } from 'react';\nimport Notiflix from 'notiflix';\n\nexport default function Searchbar({onSubmit}) {\n  const [inputName, setInputName] = useState('');\n\n  const handleInputNameChange = event => {\n    setInputName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputName.trim() === '') {\n      Notiflix.Notify.warning(\n        'Please, input target text in the searching field',\n      );\n    }\n    onSubmit(inputName);\n    setInputName('');\n  };\n\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"inputName\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputName}\n            onChange={handleInputNameChange}\n          />\n        </form>\n      </header>\n    );\n};\n","import './ImageGalleryItem.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst ImageGalleryItem = ({ images, onSelect }) =>\n  images.map(({ id, webformatURL, largeImageURL }) => (\n    <li\n      className=\"ImageGalleryItem\"\n      key={uuidv4()}\n      onClick={() => onSelect(largeImageURL)}\n    >\n      <img src={webformatURL} alt={id} className=\"ImageGalleryItem-image\" />\n    </li>\n  ));\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Loader = props => (\n  <svg\n    id=\"goo-loader\"\n    width={props.width}\n    height={props.height}\n    aria-label={props.label}\n  >\n    <filter id=\"fancy-goo\">\n      <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"6\" result=\"blur\" />\n      <feColorMatrix\n        in=\"blur\"\n        mode=\"matrix\"\n        values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9\"\n        result=\"goo\"\n      />\n      <feComposite in=\"SourceGraphic\" in2=\"goo\" operator=\"atop\" />\n    </filter>\n    <g filter=\"url(#fancy-goo)\">\n      <animateTransform\n        id=\"mainAnim\"\n        attributeName=\"transform\"\n        attributeType=\"XML\"\n        type=\"rotate\"\n        from=\"0 50 50\"\n        to=\"359 50 50\"\n        dur=\"1.2s\"\n        repeatCount=\"indefinite\"\n      />\n      <circle cx=\"50%\" cy=\"40\" r={props.radius} fill={props.color}>\n        <animate\n          id=\"cAnim1\"\n          attributeType=\"XML\"\n          attributeName=\"cy\"\n          dur=\"0.6s\"\n          begin=\"0;cAnim1.end+0.2s\"\n          calcMode=\"spline\"\n          values=\"40;20;40\"\n          keyTimes=\"0;0.3;1\"\n          keySplines=\"0.09, 0.45, 0.16, 1;0.09, 0.45, 0.16, 1\"\n        />\n      </circle>\n      <circle cx=\"50%\" cy=\"60\" r={props.radius} fill={props.secondaryColor}>\n        <animate\n          id=\"cAnim2\"\n          attributeType=\"XML\"\n          attributeName=\"cy\"\n          dur=\"0.6s\"\n          begin=\"0.4s;cAnim2.end+0.2s\"\n          calcMode=\"spline\"\n          values=\"60;80;60\"\n          keyTimes=\"0;0.3;1\"\n          keySplines=\"0.09, 0.45, 0.16, 1;0.09, 0.45, 0.16, 1\"\n        />\n      </circle>\n    </g>\n  </svg>\n);\n\nLoader.propTypes = {\n  width: PropTypes.number,\n  secondaryColor: PropTypes.string,\n  height: PropTypes.number,\n  color: PropTypes.string,\n  radius: PropTypes.number,\n  label: PropTypes.string,\n};\n\nLoader.defaultProps = {\n  width: 80,\n  height: 90,\n  color: 'rgba(86, 140, 240, 1)',\n  radius: 11,\n  secondaryColor: 'rgba(46, 58, 80, 1)',\n  label: 'audio-loading',\n};\n\nexport default Loader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.handleCloseModal();\n    }\n  };\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.handleCloseModal();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.handleCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n        <div className=\"Modal\">\n          <img src={this.props.selectedImage} alt=\"pixabay_img\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import './Button.css';\nimport Loader from '../Loader/Loader';\n\nconst Button = ({ onLoading, newImages, handleLoadMore }) => {\n  return (\n    <div className=\"Button__container\">\n      {newImages === 12 && onLoading === false && (\n        <button className=\"Button\" type=\"button\" onClick={handleLoadMore}>\n          Load more\n        </button>\n      )}\n      {onLoading === true && (\n        <div className=\"loader\">\n          <Loader />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Button;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst getImagesAPI = (name, page) => {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '22538110-4c245d53289541016fd72dadc',\n        q: name,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        per_page: 12,\n        page: page,\n      },\n    })\n    .then(response => {\n      if (response.data.totalHits !== 0) {\n        const images = response.data.hits;\n        return images;\n      }\n      return Promise.reject(\n        new Error(`There are no images with name \"${name}\"`),\n      );\n    });\n};\n\nexport default getImagesAPI;\n\ngetImagesAPI.propTypes = {\n  page: PropTypes.number.isRequired,\n};\n","import './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport { Component } from 'react';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport Button from '../Button/Button';\nimport api from '../api/api';\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: null,\n    error: null,\n    status: 'idle',\n    selectedImage: null,\n    page: 1,\n    newImages: null,\n    onLoading: false,\n  };\n\n  handleSelectImage = imageUrl => {\n    this.setState({ selectedImage: imageUrl });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ selectedImage: null });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.setState({ onLoading: true });\n  };\n\n  smoothScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.inputName;\n    const nextName = this.props.inputName;\n\n    if (prevName !== nextName) {\n      this.setState({\n        status: 'pending',\n        page: 1,\n        images: null,\n        newImages: null,\n      });\n\n      api(nextName, 1)\n        .then(images => {\n          this.setState({\n            images: images,\n            status: 'resolved',\n            newImages: images.length,\n          });\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n\n    if (prevState.page !== this.state.page && this.state.page !== 1) {\n      this.setState({\n        newImages: null,\n      });\n\n      api(nextName, this.state.page)\n        .then(images => {\n          this.setState({\n            images: [...prevState.images, ...images],\n            status: 'resolved',\n            newImages: images.length,\n            onLoading: false,\n          });\n        })\n        .then(this.smoothScroll)\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  render() {\n    const { images, status, selectedImage, onLoading, newImages } = this.state;\n    return (\n      <>\n        {status === 'pending' && (\n          <div className=\"loader\">\n            <Loader />\n          </div>\n        )}\n        {status === 'rejected' && (\n          <h1 className=\"error\">{this.state.error.message}</h1>\n        )}\n        {status === 'resolved' && (\n          <ul className=\"ImageGallery\">\n            <ImageGalleryItem\n              images={images}\n              onSelect={this.handleSelectImage}\n            />\n          </ul>\n        )}\n\n        <Button\n          handleLoadMore={this.handleLoadMore}\n          onLoading={onLoading}\n          status={status}\n          newImages={newImages}\n        />\n\n        {selectedImage && (\n          <Modal\n            selectedImage={selectedImage}\n            handleCloseModal={this.handleCloseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import './App.css';\nimport React, { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar.jsx';\nimport ImageGallery from './components/ImageGallery/ImageGallery.jsx';\n\nexport default function App() {\n  const [inputName, setInputName] = useState('');\n\n  const handleSearchFormSubmit = inputName => {\n    setInputName(inputName);\n  };\n\n    return (\n      <>\n        <Searchbar onSubmit={handleSearchFormSubmit} />\n        <div className=\"content\">\n          <ImageGallery inputName={inputName} />\n        </div>\n      </>\n    );\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}